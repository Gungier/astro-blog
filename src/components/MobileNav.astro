---
let { shown = false } = Astro.props;
---

<script is:inline>
  function toggleMobileNav() {
    // const els = [...document.querySelectorAll("[data-should-hide]")];
    // if (!shown) {
    //     els.forEach((el) => (el.style.display = "block"));
    //     document.querySelector("#show-button").style.display = "none";
    //     document.querySelector("#hide-button").style.display = "inline-block";
    //     lastChild.removeAttribute("data-is-last-visible");
    // } else {
    //     els.forEach((el) => (el.style.display = "none"));
    //     document.querySelector("#hide-button").style.display = "none";
    //     document.querySelector("#show-button").style.display = "inline-block";
    //     lastChild.setAttribute("data-is-last-visible", "");
    // }

    shown = !shown;
    // isActive = !isActive;
  }
</script>
<!-- <div class={styles.buttonContainer}> -->
<div class="mobile_nav">
  <!-- <button
    class="toggle-mobilenav"
    data-should-hide="hide-buttons"
    onclick="toggleMobileNav()">Menu</button
  > -->

  <div id="menu" class="max-sm:border-4 max-sm:border-black max-sm:rounded-md ">
    {
      !shown && (
        <nav class="show-mobilenav">
          <section class="nav-item flex py-8 justify-center place-content-center gap-x-2">
            <a class={`${Astro.url.pathname === "/" ? "nav-link" : ""}`} href="/">
              Home
            </a>
            <a href="/posts/aboutme/">About</a>

            <a href="/blog/">Blog</a>

            <a href="/tags/">Tags</a>

            <a href="#">Contact</a>
          </section>
        </nav>
      )
    }
  </div>
</div>

<style>
  @media (min-width: 500px) {
    .toggle-mobilenav {
      display: none;
      position: fixed;
      right: 0;
      top: 0;
      height: 100%;
      width: max-content;
      flex-direction: column;
      background-color: white;
    }

    .nav-item {
      display: flex;
      width: max-content;
    }

    .show-mobilenav {
      display: none;
      width: max-content;
      padding: 2rem;
    }
  }

  .nav-links {
    /* width: full; */
    top: 5rem;
    left: 3rem;
    background-color: #ff9776;
    display: none;
    margin: 0;
  }

  .nav-links a {
    display: block;
    text-align: center;
    padding: 10px 0;
    text-decoration: none;
    font-size: 1.2rem;
    font-weight: bold;
    text-transform: uppercase;
  }

  nav-links a:hover,
  .nav-links a:focus {
    background-color: #ff9776;
  }

  .expanded {
    display: unset;
  }

  @media (min-width: 400px) {
    .nav-links #mobile {
      margin-left: 1rem;
      /* display: block; */
      /* position: absolute; */
      width: auto;
      top: 10%;
      right: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      flex-grow: 1;
      /* width: full; */
      font-weight: bold;
      background: rgb(137, 6, 148);
      background: linear-gradient(
        0deg,
        rgba(137, 6, 148, 1) 0%,
        rgba(87, 6, 249, 1) 100%
      );
      background-clip: text;
      z-index: 20;
      box-shadow: 2px 12px 12px 2px rgba(0, 0, 255, 0.2);
      /* background: none; */
    }

    .nav-links a {
      display: inline-block;
      padding: 15px 20px;
    }
  }
</style>
<!-- <button
    id="show-button"
    onclick="toggleMobileNav()";
    >Menu
</button> -->
<!-- <button
    id="hide-button"
    class="text-style-button ffg-button-base ffg-small-button ffg-outlined-button"
    style="display: none"
    onclick="toggleChapterList();"
    >Only show 10 chapters
</button> -->
<!-- </div> -->

<!-- <style >
	.mobile_nav {
		@media (--above_med) {
			display: none;
		}
	}

	nav a {
		text-decoration: none;
		color: var(--fg);
		text-decoration: none;
		border-bottom: solid 3px transparent;
		display: block;
		transition: border-color 0.2s ease;
		&:hover {
			border-bottom: solid 3px var(--primary);
		}
	}

	.button-reset {
		color: var(--white);
		text-transform: uppercase;
		letter-spacing: 1px;
		font-variation-settings: var(--900);
	}

	.menu {
		position: fixed;
		inset: 0;
		color: var(--white);
		background-color: var(--black);
		width: 100vw;
		height: 100vh;
		justify-content: space-between;
		flex-direction: column;
		z-index: 11;
		display: flex;
		padding: 2rem;

		nav {
			margin-top: 30vh;
			font-size: var(--font-size-xxl);
			a {
				display: block;
				margin-bottom: 2rem;
				font-variation-settings: var(--700);
				text-shadow: 0 0 4px black;
			}
		}
		> *:last-child {
			margin: 20px;
		}
	}

	.close-button {
		font-size: 4rem;
		margin: 0;
		position: absolute;
		top: 20px;
		right: 20px;
		display: block;
		line-height: 0.5;
		padding: 0;
	}
</style> -->
